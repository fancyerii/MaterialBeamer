% MaterialBeamer-BEAMER
%
% Lorenzo Lancia

% Based on Radboud U. Beamer by Pim Vullers
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.
%
% See the file doc/licenses/LICENSE for more details.



%%%
%%% Inherit definitions from existing themes (DO NOT MODIFY THESE)
%%%

% Layout scheme for outer elements: split header and footer
\useoutertheme{split}

% Color scheme for outer elements: use background colors
%\usecolortheme{whale}

% Layout scheme for inner elements: rounded elements
\useinnertheme{rounded} 

% Color scheme for inner elements: use foreground colors
\usecolortheme{orchid}


%%%
%%% Tweak definitions of inner theme to match personal preferences (MODIFY THESE)
%%%

% Itemize items: default (triangle), circle, square, ball
\setbeamertemplate{itemize items}[circle]

% Enumerate items: default, circle, square, ball
\setbeamertemplate{enumerate items}[circle]

% Outline: default, sections numbered, subsections numbered, circle, square, ball, ball unnumbered
\setbeamertemplate{sections/subsections in toc}[default]

% General blocks: 
\setbeamertemplate{blocks}[rounded=false]

% Title page:
\setbeamertemplate{title page}[default][colsep=-4bp,rounded=false]

% Part page:
\setbeamertemplate{part page}[default][colsep=-4bp,rounded=false]

% Navigation symbols:
\setbeamertemplate{navigation symbols}{}


%shadowing
\usepackage[skins]{tcolorbox}



% Colors
%\definecolor{sapred}{RGB}{130,36,51}
\definecolor{sapblue}{RGB}{0,103,120}

% Material Colors
\definecolor{matred}{HTML}{F44336}
\definecolor{matblue}{HTML}{2196F3}
\definecolor{matbluelight}{HTML}{BBDEFB}
\definecolor{matbluedark}{HTML}{1976D2}

\setbeamercolor{structure}{fg = matbluedark}
%\setbeamercolor{frametitle}{parent=subsection in head/foot}
%\setbeamercolor{frametitle right}{parent=section in head/foot}
\definecolor{grey}{HTML}{51504A}
\setbeamercolor{section in head/foot}{ bg=matbluedark, fg=white}
\setbeamercolor{footline}{ bg=matbluedark}
\setbeamercolor{title in head/foot}{bg=matbluedark, fg=white}

%\pgfdeclarehorizontalshading[frametitle.bg,frametitle right.bg]{beamer@frametitleshade}{\paperheight}{%
%  color(0pt)=(sapblue);
%  color(\paperwidth)=(sapblue)}

\AtBeginDocument{
  \pgfdeclareverticalshading{beamer@topshade}{\paperwidth}{%
    color(0pt)=(bg);
    color(4pt)=(black!50!bg)}
}

% Footline: AUTHOR | TITLE | DATE FRAMENUMBER

\defbeamertemplate*{footline}{mat theme}{%
\begin{beamercolorbox}[wd=\paperwidth,ht=2.25ex,dp=1ex]{title in head/foot}%
\begin{minipage}[t]{0.48\textwidth}%
\hskip10pt\insertshortauthor%
\end{minipage}%
\begin{minipage}[t]{0.48\textwidth}%
%
\hfill\insertshorttitle\hskip10pt%
%
\end{minipage}%
\end{beamercolorbox}%
\vskip0pt%
}


\defbeamertemplate*{headline}{mat theme}{%
  \leavevmode%
  \@tempdimb=2.4375ex%
    \multiply\@tempdimb by\beamer@sectionmax%
  \pgfdeclareimage[height=.9\@tempdimb]{logo}{sap_logo}%
  \logo{\pgfuseimage{logo}}%
  \ifdim\@tempdimb>0pt%
    \advance\@tempdimb by 1.125ex%
    \begin{beamercolorbox}[wd=\paperwidth,ht=\@tempdimb, shadow=true]{section in head/foot}%
      \vbox to\@tempdimb{\vfil \hskip10pt \insertshorttitle \hskip10pt \insertsectionnavigationhorizontal{0.8 \paperwidth}{}{\hskip0pt plus1filll}\vfil}%
    \end{beamercolorbox}%
    %\begin{beamercolorbox}[wd=.4\paperwidth,ht=\@tempdimb,right]{subsection in head/foot}%
    %  \vbox to\@tempdimb{\vfil\vfil\textbf{\footnotesize\insertshortinstitute~~}\vfil}%
    %\end{beamercolorbox}% 
  \fi%
}




\defbeamertemplate*{frametitle}{mat theme}{%
  \nointerlineskip%
  \setbeamercolor{titlebar}{fg=white,bg=matblue}%
\begin{beamercolorbox}[sep=1em,wd=\paperwidth,ht=5ex]{titlebar}%
\usebeamerfont{frametitle} \insertframetitle\par%
\nointerlineskip%
\end{beamercolorbox}
  }
  
  
  
\defbeamertemplate*{title page}{ru theme}[1][]
{
\nointerlineskip

\usebeamerfont{subtitle}
%\setbeamercolor{thead}{fg=white,bg=sapred}
\begin{beamercolorbox}[sep=1em,wd=\paperwidth, ht=2.5cm, dp=0.5cm,right ]{thead}
\usebeamerfont{author} \insertauthor\par
\usebeamerfont{institute}\insertinstitute\par 
\end{beamercolorbox}
\nointerlineskip

\begin{minipage}[t]{0.5\textwidth}
%\setbeamercolor{postit}{fg=sapred}
\begin{beamercolorbox}[sep=1em,wd=0.5\paperwidth,ht=3cm,dp=3cm]{postit}
\usebeamerfont{title} {\Huge \inserttitle} \par
\usebeamerfont{subtitle} {\insertsubtitle}
\end{beamercolorbox}

\end{minipage}%
\begin{minipage}[t]{0.5\textwidth}
\inserttitlegraphic
\end{minipage}

%\setbeamercolor{postit}{fg=sapred}
\begin{beamercolorbox}[sep=1em,wd=0.5\paperwidth,ht=3cm,dp=3cm]{postit}

\end{beamercolorbox}
}